{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Joel John Joseph/Desktop/SEM PROJ IDEAS/khet-e/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Joel John Joseph/Desktop/SEM PROJ IDEAS/khet-e/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{CART_ADD_ITEM,CART_REMOVE_ITEM,CART_SAVE_SHIPPING_ADDRESSS,CART_SAVE_PAYMENT_METHOD}from'./../constants/cartConstants';export var addToCart=function addToCart(id,qty){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var _yield$axios$get,data,_yield$axios$get2,_data,_yield$axios$get3,_data2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/seeds/\".concat(id));case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch({type:CART_ADD_ITEM,payload:{seed:data._id,name:data.name,image:data.image,price:data.price,countInStock:data.countInStock,qty:qty}});_context.next=25;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);_context.prev=10;_context.next=13;return axios.get(\"/api/lendMachines/\".concat(id));case 13:_yield$axios$get2=_context.sent;_data=_yield$axios$get2.data;dispatch({type:CART_ADD_ITEM,payload:{seed:_data._id,name:_data.name,image:_data.image,price:_data.price,countInStock:_data.quantity,qty:qty}});_context.next=25;break;case 18:_context.prev=18;_context.t1=_context[\"catch\"](10);_context.next=22;return axios.get(\"/api/consumer/\".concat(id));case 22:_yield$axios$get3=_context.sent;_data2=_yield$axios$get3.data;dispatch({type:CART_ADD_ITEM,payload:{seed:_data2._id,name:_data2.prod_name,image:_data2.image,price:_data2.price,countInStock:_data2.quantity,qty:qty}});case 25:localStorage.setItem('cartItems',JSON.stringify(getState().cartSeed.cartItems));case 26:case\"end\":return _context.stop();}}},_callee,null,[[0,8],[10,18]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var removeFromCart=function removeFromCart(id){return function(dispatch,getState){dispatch({type:CART_REMOVE_ITEM,payload:id});localStorage.setItem('cartItems',JSON.stringify(getState().cartSeed.cartItems));};};export var saveShippingAddress=function saveShippingAddress(data){return function(dispatch){dispatch({type:CART_SAVE_SHIPPING_ADDRESSS,payload:data});localStorage.setItem('shippingAddress',JSON.stringify(data));};};export var savePaymentMethod=function savePaymentMethod(data){return function(dispatch){dispatch({type:CART_SAVE_PAYMENT_METHOD,payload:data});localStorage.setItem('paymentMethod',JSON.stringify(data));};};","map":{"version":3,"sources":["C:/Users/Joel John Joseph/Desktop/SEM PROJ IDEAS/khet-e/frontend/src/actions/cartActions.js"],"names":["axios","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESSS","CART_SAVE_PAYMENT_METHOD","addToCart","id","qty","dispatch","getState","get","data","type","payload","seed","_id","name","image","price","countInStock","quantity","prod_name","localStorage","setItem","JSON","stringify","cartSeed","cartItems","removeFromCart","saveShippingAddress","savePaymentMethod"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { \r\n    CART_ADD_ITEM, \r\n    CART_REMOVE_ITEM,\r\n    CART_SAVE_SHIPPING_ADDRESSS,\r\n    CART_SAVE_PAYMENT_METHOD\r\n} from './../constants/cartConstants'\r\n\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n    try {\r\n        const { data } = await axios.get(`/api/seeds/${id}`)\r\n        dispatch({\r\n            type: CART_ADD_ITEM,\r\n            payload: {\r\n                seed: data._id,\r\n                name: data.name,\r\n                image: data.image,\r\n                price: data.price,\r\n                countInStock: data.countInStock,\r\n                qty,\r\n            }\r\n        })\r\n    } catch (error) {\r\n        try {\r\n            const { data } = await axios.get(`/api/lendMachines/${id}`)\r\n            dispatch({\r\n                type: CART_ADD_ITEM,\r\n                payload: {\r\n                    seed: data._id,\r\n                    name: data.name,\r\n                    image: data.image,\r\n                    price: data.price,\r\n                    countInStock: data.quantity,\r\n                    qty,\r\n                }\r\n            })\r\n        } catch (error) { \r\n            const { data } = await axios.get(`/api/consumer/${id}`)\r\n            dispatch({\r\n                type: CART_ADD_ITEM,\r\n                payload: {\r\n                    seed: data._id,\r\n                    name: data.prod_name,\r\n                    image: data.image,\r\n                    price: data.price,\r\n                    countInStock: data.quantity,\r\n                    qty,\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cartSeed.cartItems))\r\n}\r\n\r\nexport const removeFromCart = (id) => (dispatch, getState) => {\r\n    dispatch({\r\n        type: CART_REMOVE_ITEM,\r\n        payload: id\r\n    })\r\n\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cartSeed.cartItems))\r\n}\r\n\r\nexport const saveShippingAddress = (data) => (dispatch) => {\r\n    dispatch({\r\n        type: CART_SAVE_SHIPPING_ADDRESSS,\r\n        payload: data\r\n    })\r\n\r\n    localStorage.setItem('shippingAddress', JSON.stringify(data))\r\n}\r\n\r\nexport const savePaymentMethod = (data) => (dispatch) => {\r\n    dispatch({\r\n        type: CART_SAVE_PAYMENT_METHOD,\r\n        payload: data\r\n    })\r\n\r\n    localStorage.setItem('paymentMethod', JSON.stringify(data))\r\n}"]},"metadata":{},"sourceType":"module"}